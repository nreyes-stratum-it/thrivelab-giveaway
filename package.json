{
  "name": "thrivelab-giveaway",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "concurrently \"pnpm dev:frontend\" \"pnpm dev:backend\"",
    "dev:frontend": "pnpm --filter frontend-nextjs dev",
    "dev:backend": "pnpm --filter backend-nestjs start:dev",
    "build": "pnpm build:backend && pnpm build:frontend",
    "build:frontend": "pnpm --filter frontend-nextjs build",
    "build:backend": "pnpm --filter backend-nestjs build",
    "install:all": "pnpm install",
    "clean": "rm -rf node_modules apps/*/node_modules apps/*/dist apps/*/out",
    "docker:up": "docker-compose up -d",
    "docker:down": "docker-compose down",
    "docker:build": "docker-compose build",
    "docker:rebuild": "docker-compose down && docker-compose build && docker-compose up -d",
    "docker:logs": "docker-compose logs -f",
    "docker:logs:backend": "docker-compose logs -f backend",
    "docker:logs:frontend": "docker-compose logs -f frontend",
    "docker:logs:postgres": "docker-compose logs -f postgres",
    "docker:restart": "docker-compose restart",
    "docker:restart:backend": "docker-compose restart backend",
    "docker:restart:frontend": "docker-compose restart frontend",
    "docker:ps": "docker-compose ps",
    "docker:clean": "docker-compose down -v --rmi all",
    "db:migrate": "docker-compose run --rm backend npx prisma migrate dev",
    "db:migrate:deploy": "docker-compose run --rm backend npx prisma migrate deploy",
    "db:studio": "docker-compose run --rm -p 5555:5555 backend npx prisma studio",
    "db:seed": "docker-compose run --rm backend npx prisma db seed",
    "deploy": "cd infrastructure/cdk && cdk deploy",
    "deploy:backend": "cd apps/backend-nestjs && ./build-lambda.sh && aws lambda update-function-code --function-name ThriveLabGiveawayBackend --zip-file fileb://lambda.zip",
    "migrate:prod": "cd apps/backend-nestjs && pnpm exec prisma migrate deploy",
    "logs:backend": "aws logs tail /aws/lambda/ThriveLabGiveawayBackend --follow",
    "invalidate:cdn": "aws cloudfront create-invalidation --distribution-id $(aws cloudformation describe-stacks --stack-name ThriveLabGiveaway --query 'Stacks[0].Outputs[?OutputKey==`CloudFrontDistributionId`].OutputValue' --output text) --paths '/*'"
  },
  "devDependencies": {
    "concurrently": "^8.2.2",
    "typescript": "^5.9.3"
  },
  "engines": {
    "node": ">=20.0.0",
    "pnpm": ">=8.0.0"
  }
}